(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{202:function(t,e,o){var content=o(265);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(63).default)("292da7e8",content,!0,{sourceMap:!1})},257:function(t,e){},264:function(t,e,o){"use strict";var n=o(202);o.n(n).a},265:function(t,e,o){(e=o(62)(!1)).push([t.i,'.data{-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row;-webkit-box-pack:justify;justify-content:space-between}.count,.data{display:-webkit-box;display:flex}.count{-webkit-box-align:center;align-items:center;font-weight:700;color:hsla(0,0%,89%,.5);color:#27b127;margin-bottom:1rem;text-transform:uppercase;font-size:.7rem;line-height:1}.count:before{content:"";display:-webkit-inline-box;display:inline-flex;background-color:#27b127;width:.4rem;height:.4rem;border-radius:50%;margin-right:.3rem}.label{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;font-weight:700;margin-bottom:1rem;text-transform:uppercase;font-size:.7rem;line-height:1}.block{padding:2ch;margin:5ch;border-radius:5px;background:#fff;box-shadow:20px 20px 60px #d9d9d9,-20px -20px 60px #fff}.block .ProseMirror{border:1px solid #bfbfbf;border-radius:5px;padding:1ch;min-height:20ch}.block .ProseMirror:focus{border:1px solid #27b127}.block .ProseMirror[contenteditable]{outline:0}',""]),t.exports=e},275:function(t,e,o){"use strict";o.r(e);var n=o(233),r=o.n(n),c=o(204),l=o(270),d={components:{EditorContent:c.b},data:function(){return{loading:!0,editor:null,socket:null,count:0,version:0,slug:"default slug"}},methods:{onInit:function(t){var e=this,o=t.doc,n=t.version;this.loading=!1,this.editor&&this.editor.destroy(),console.log("init!",o),this.version=n,this.editor=new c.a({content:o,extensions:[new l.d,new l.e({levels:[1,2,3]}),new l.a,new l.b,new l.g,new l.f,new l.c({version:n,debounce:250,onSendable:function(t){var o=t.sendable;o.slug=e.slug,e.socket.emit("update",o)}})]})},setCount:function(t){this.count=t}},mounted:function(){var t=this;this.slug=this.$route.params.index,this.socket=r()("wss://a984747989c98d65107d889cad5766af.balena-devices.com").emit("init",this.slug).on("init",(function(data){t.onInit(data)})).on("update",(function(data){return t.version=data.version,t.editor.extensions.options.collaboration.update(data)})).on("getCount",(function(e){return t.setCount(e)}))},beforeDestroy:function(){this.editor.destroy(),this.socket.destroy()}},f=(o(264),o(21)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"block"},[t.editor&&!t.loading?[o("div",{staticClass:"data"},[o("div",{staticClass:"count"},[t._v(t._s(t.count)+" "+t._s(1===t.count?"user":"users")+" connected")]),t._v(" "),o("div",{staticClass:"label"},[t._v("Slug: "+t._s(t.slug))]),t._v(" "),o("div",{staticClass:"label"},[t._v("Version: "+t._s(t.version))])]),t._v(" "),o("editor-content",{staticClass:"editor",attrs:{editor:t.editor}})]:o("em",[t._v("Connecting to socket server â€¦")])],2)}),[],!1,null,null,null);e.default=component.exports}}]);